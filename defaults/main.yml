---
openssh_install_method: "package"
openssh_force_install: false
openssh_service_enabled: false

# openssh Server Configuration
openssh_server:
  # Network
  port: 2222
  listen_address: ["0.0.0.0", "::"]
  # Authentication
  permit_root_login: false
  password_authentication: false
  pubkey_authentication: true
  authentication_methods: "publickey"
  # Cryptography
  kex:
    - "curve25519-sha256"
    - "sntrup761x25519-sha512@openssh.com"
  ciphers:
    - "chacha20-poly1305@openssh.com"
    - "aes256-gcm@openssh.com"
  macs:
    - "hmac-sha2-512-etm@openssh.com"
    - "hmac-sha2-256-etm@openssh.com"
  # Logging
  syslog_facility: "AUTH"
  log_level: "INFO"
  # Brute Force Protection
  max_auth_tries: 2
  max_sessions: 10
  max_startups: "5:30:50"
  login_grace_time: 20
  # Access Control (optional - uncomment and configure as needed)
  allow_users: []
  allow_groups: []
  # Forwarding and Tunneling (secure defaults - all disabled)
  x11_forwarding: false
  allow_tcp_forwarding: false
  allow_agent_forwarding: false
  gateway_ports: false
  permit_tunnel: false
  # Additional Security
  permit_empty_passwords: false
  challenge_response_authentication: false
  use_pam: true
  print_motd: false
  accept_env: ["LANG", "LC_*"]
  # Banner Configuration
  debian_banner: false
  # banner: "/etc/ssh/banner.txt"  # Uncomment and set path to enable
  # Subsystems
  # subsystem_sftp is set automatically based on distribution
  # Override this value if you need a custom SFTP subsystem path

# OpenSSH Client System-wide Configuration
openssh_client_system:
  send_env: ["LANG", "LC_*"]
  forward_agent: false

openssh_client_users: []
# OpenSSH Client Per-User Configuration
# Example:
# openssh_client_users:
#   - user: "alice"
#     config:
#       - host: "git.example.com"
#         hostname: "git.example.com"
#         identity_file: "~/.ssh/id_ed25519_git"
#         identities_only: true
#         user: "git"
#         forward_agent: false
#       - host: "prod-*"
#         proxy_jump: "bastion.example.com"
#         identity_file: "~/.ssh/id_ed25519_prod"
#         identities_only: true
#         strict_host_key_checking: true
#         user_known_hosts_file: "~/.ssh/known_hosts_prod"
